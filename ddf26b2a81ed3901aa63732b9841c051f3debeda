{
  "comments": [
    {
      "key": {
        "uuid": "e99e7521_9bf699f9",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1134,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-02-03T23:45:54Z",
      "side": 1,
      "message": "I think we should keep the conditional. See below.",
      "revId": "ddf26b2a81ed3901aa63732b9841c051f3debeda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7afeae4d_23d6b855",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1194,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-02-03T23:45:54Z",
      "side": 1,
      "message": "Consider the following case:\n\n1. Flash build A (metadata has UPDATED \u003d false)\n2. Update applied in slot B, pending reboot\n3. For some reason ProcessUpdateState is called while we are still at slot A\n4. |metadata| is metadata from slot A here, so UPDATED flag is not set.\n\nThen, all_snapshots_cancelled will still be true.",
      "range": {
        "startLine": 1194,
        "startChar": 20,
        "endLine": 1194,
        "endChar": 39
      },
      "revId": "ddf26b2a81ed3901aa63732b9841c051f3debeda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}