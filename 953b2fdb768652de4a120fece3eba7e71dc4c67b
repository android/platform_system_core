{
  "comments": [
    {
      "key": {
        "uuid": "45da4983_bad60220",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-06-07T19:10:36Z",
      "side": 1,
      "message": "`delimiters` too? (since that\u0027ll mainly be a C string literal.)",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b3d6305_179c8f38",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-06-07T19:18:42Z",
      "side": 1,
      "message": "+1\n\nHopefully we have no binaries linking against the old API.  Unfortunately too, we can\u0027t easily have both, since there\u0027re ambiguous conversions from char* to string and string_view:\n\nsystem/core/base/strings_test.cpp:55:36: error: call to \u0027Split\u0027 is ambiguous\n  std::vector\u003cstd::string\u003e parts \u003d android::base::Split(\"foo,bar,\", \",\");\n                                   ^~~~~~~~~~~~~~~~~~~~\nsystem/core/base/include/android-base/strings.h:32:26: note: candidate function\nstd::vector\u003cstd::string\u003e Split(const std::string_view\u0026 s, const std::string_view\u0026 delimiters);",
      "parentUuid": "45da4983_bad60220",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec048573_4ab627c9",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-06-07T19:54:21Z",
      "side": 1,
      "message": "\u003e Unfortunately too, we can\u0027t easily have both, since there\u0027re ambiguous conversions from char* to string and string_view:\n\nWe can always leave the old API as a symbol only (not exported).",
      "parentUuid": "9b3d6305_179c8f38",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60c67a8e_970d0be2",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-06-07T19:54:21Z",
      "side": 1,
      "message": "not const\u0026? right? like below",
      "range": {
        "startLine": 32,
        "startChar": 31,
        "endLine": 32,
        "endChar": 36
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2212558f_8b8f4192",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-06-07T20:03:45Z",
      "side": 1,
      "message": "Good point; these should all be by value (no const), like we do for the rest of the string_view functions.\n\nhttps://stackoverflow.com/questions/27256377/c-view-types-pass-by-const-or-by-value",
      "parentUuid": "60c67a8e_970d0be2",
      "range": {
        "startLine": 32,
        "startChar": 31,
        "endLine": 32,
        "endChar": 36
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b12198d_f1205ad3",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-06-07T20:03:45Z",
      "side": 1,
      "message": "Good point.  Let\u0027s hope we don\u0027t need it, then fallback to that if necessary.",
      "parentUuid": "ec048573_4ab627c9",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5253dc27_e1b98101",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-06-07T20:06:47Z",
      "side": 1,
      "message": "yeah, i tend to always write const\u0026 for std::string_view too, and then jmgao/tomcherry complain.\n\ni think it\u0027s going to be a long time before we achieve consistency on that...",
      "parentUuid": "60c67a8e_970d0be2",
      "range": {
        "startLine": 32,
        "startChar": 31,
        "endLine": 32,
        "endChar": 36
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15323c65_fe79e176",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1494267
      },
      "writtenOn": "2019-06-07T20:31:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5253dc27_e1b98101",
      "range": {
        "startLine": 32,
        "startChar": 31,
        "endLine": 32,
        "endChar": 36
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fcbd5a93_e137e025",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1494267
      },
      "writtenOn": "2019-06-07T20:31:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b12198d_f1205ad3",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd7820c3_919d4405",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-06-07T19:18:42Z",
      "side": 1,
      "message": "Honestly, I was thinking of a separate:\n\nvoid Trim(std::string_view* s)",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d74d99dd_95385b0f",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1494267
      },
      "writtenOn": "2019-06-07T19:03:50Z",
      "side": 1,
      "message": "I am not sure if this is necessary. I can take it out if it isn\u0027t needed.",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cf4aeee_0ff17997",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-06-07T19:10:36Z",
      "side": 1,
      "message": "makes sense to have it too, i think.\n\n/me wonders whether the next three should be std::string_view for the last arg?",
      "parentUuid": "d74d99dd_95385b0f",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "604d8072_735a47b4",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-06-07T19:18:42Z",
      "side": 1,
      "message": "I don\u0027t think you need it.  We already have\n\ntemplate \u003ctypename ContainerT, typename SeparatorT\u003e\nstd::string Join(const ContainerT\u0026 things, SeparatorT separator) {\n\nThat I\u0027m pretty sure will handle std::vector\u003cstd::string_view\u003e, std::string_view",
      "parentUuid": "5cf4aeee_0ff17997",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2bb6d53a_1b4bbe6f",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-06-07T20:06:47Z",
      "side": 1,
      "message": "i mean \"why are we explicitly instantiating the ones we probably want _less_?\".",
      "parentUuid": "604d8072_735a47b4",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "094e498d_d8b778d9",
        "filename": "base/include/android-base/strings.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1494267
      },
      "writtenOn": "2019-06-07T20:31:30Z",
      "side": 1,
      "message": "Having a std::vector\u003cstd::string_view\u003e is probably unlikely since I don\u0027t think std::vector\u003cstd::string\u003e automatically casts to that. If anything we could replace the const std::string\u0026 with std::string_view",
      "parentUuid": "2bb6d53a_1b4bbe6f",
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c97e3b2_559a8ae6",
        "filename": "base/strings.cpp",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-06-07T19:10:36Z",
      "side": 1,
      "message": "just return directly, remove L49, and return \"\" on L52?",
      "range": {
        "startLine": 80,
        "startChar": 2,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e8fc4f8_4556666b",
        "filename": "base/strings.cpp",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1494267
      },
      "writtenOn": "2019-06-07T20:31:30Z",
      "side": 1,
      "message": "Unfortunately, cannot return directly since \"std::string_view::substr\" returns a \"std::string_view\" while this function has to return a \"std::string\".",
      "parentUuid": "6c97e3b2_559a8ae6",
      "range": {
        "startLine": 80,
        "startChar": 2,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9468a27c_ba05c65c",
        "filename": "base/strings.cpp",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-06-07T21:36:11Z",
      "side": 1,
      "message": "ah, even more reason to make the change then, because i hadn\u0027t realized that and `return std::string(...)` will make it obvious :-)",
      "parentUuid": "1e8fc4f8_4556666b",
      "range": {
        "startLine": 80,
        "startChar": 2,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4531e966_63d47b73",
        "filename": "base/strings.cpp",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1494267
      },
      "writtenOn": "2019-06-07T22:12:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9468a27c_ba05c65c",
      "range": {
        "startLine": 80,
        "startChar": 2,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "953b2fdb768652de4a120fece3eba7e71dc4c67b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}