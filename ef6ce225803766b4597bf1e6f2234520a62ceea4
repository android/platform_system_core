{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2d73530f_d5b7be92",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2020-10-09T16:50:43Z",
      "side": 1,
      "message": "property-side here",
      "revId": "ef6ce225803766b4597bf1e6f2234520a62ceea4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52ac37b7_d987cffc",
        "filename": "rootdir/init.rc",
        "patchSetId": 3
      },
      "lineNbr": 1048,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-10-13T08:54:01Z",
      "side": 1,
      "message": "This won\u0027t work on user builds where su loses its super powers.",
      "range": {
        "startLine": 1048,
        "startChar": 20,
        "endLine": 1048,
        "endChar": 29
      },
      "revId": "ef6ce225803766b4597bf1e6f2234520a62ceea4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6cf40bbe_05f7325a",
        "filename": "rootdir/init.rc",
        "patchSetId": 3
      },
      "lineNbr": 1048,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2020-10-13T21:47:02Z",
      "side": 1,
      "message": "ah dang. Any idea on how to do that differently? Looks like i can\u0027t just exec sh as init.te (I guess for very good reasons after all).\nThe options I can think about here are:\n\n1. Creating a dedicated selinux domain along the lines of \"modprobe.te\" just for the sake of running this one command. seems overkill\n\n2. Creating another property which allows only the one way transition back to restrict\u003d2 and allow shell.te to set that (seems overkill as well)\n\n3. Remove this fallback completely, maybe the attempt itself is overkill.\n\nThoughts?",
      "parentUuid": "52ac37b7_d987cffc",
      "range": {
        "startLine": 1048,
        "startChar": 20,
        "endLine": 1048,
        "endChar": 29
      },
      "revId": "ef6ce225803766b4597bf1e6f2234520a62ceea4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d0ca684_a95075ee",
        "filename": "rootdir/init.rc",
        "patchSetId": 3
      },
      "lineNbr": 1048,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-10-26T09:13:50Z",
      "side": 1,
      "message": "IIUC, this is protecting against traced_probes dying unexpectedly right after setting kptr_restrict to 1? Perhaps instead you can add something to traced_probes that checks the property value on traced_probes init and resets if it\u0027s left in an unsafe state?",
      "parentUuid": "6cf40bbe_05f7325a",
      "range": {
        "startLine": 1048,
        "startChar": 20,
        "endLine": 1048,
        "endChar": 29
      },
      "revId": "ef6ce225803766b4597bf1e6f2234520a62ceea4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62436b4c_76cf749e",
        "filename": "rootdir/init.rc",
        "patchSetId": 3
      },
      "lineNbr": 1048,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2020-10-26T09:17:13Z",
      "side": 1,
      "message": "yeah TBH I start feeling the complexity it introduced was higher than the problem it was trying to solve (dying in that precise moment).\n\n\u003e traced_probes that checks the property value on traced_probes init and resets if it\u0027s left in an unsafe state?\n\nHmm imho that would have some unexpected side-effects if somebody lowers the property in some .rc file for some local testing (e.g. for labs/CI) and then traced_probes flips it back. It would be a bit unexpected.\nGiven that this is going to be only for userdebug and we can\u0027t rely on this property for user, IMHO the risk is low enough and I\u0027d avoid introduce surprise factors around that.",
      "parentUuid": "7d0ca684_a95075ee",
      "range": {
        "startLine": 1048,
        "startChar": 20,
        "endLine": 1048,
        "endChar": 29
      },
      "revId": "ef6ce225803766b4597bf1e6f2234520a62ceea4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}