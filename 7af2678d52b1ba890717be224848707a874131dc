{
  "comments": [
    {
      "key": {
        "uuid": "1fa3af9c_d7506984",
        "filename": "adb/SOCKET-ACTIVATION.txt",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-07T01:49:22Z",
      "side": 1,
      "message": "configured",
      "range": {
        "startLine": 1,
        "startChar": 11,
        "endLine": 1,
        "endChar": 20
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17fe95bc_3149d130",
        "filename": "adb/SOCKET-ACTIVATION.txt",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-07T09:02:55Z",
      "side": 1,
      "message": "Thanks",
      "parentUuid": "1fa3af9c_d7506984",
      "range": {
        "startLine": 1,
        "startChar": 11,
        "endLine": 1,
        "endChar": 20
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b74002b_85c66d53",
        "filename": "adb/SOCKET-ACTIVATION.txt",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17fe95bc_3149d130",
      "range": {
        "startLine": 1,
        "startChar": 11,
        "endLine": 1,
        "endChar": 20
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96397791_a040dbd3",
        "filename": "adb/SOCKET-ACTIVATION.txt",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-07T01:49:22Z",
      "side": 1,
      "message": "Please don\u0027t call this adbd, that\u0027s the name with which the device side daemon is consistently referred to.",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 4
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf0ae559_b1ff5219",
        "filename": "adb/SOCKET-ACTIVATION.txt",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-07T09:02:55Z",
      "side": 1,
      "message": "Sure.",
      "parentUuid": "96397791_a040dbd3",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 4
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7dd6cbe4_ef2226d8",
        "filename": "adb/SOCKET-ACTIVATION.txt",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cf0ae559_b1ff5219",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 4
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db19ef8c_783dee12",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 340,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-07T01:46:53Z",
      "side": 1,
      "message": "android::base::ConsumePrefix(\u0026spec, \"acceptfd:\")",
      "range": {
        "startLine": 340,
        "startChar": 6,
        "endLine": 340,
        "endChar": 47
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1a6d3ca_e1f81bf3",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 340,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-07T09:02:55Z",
      "side": 1,
      "message": "Thanks. Will use.",
      "parentUuid": "db19ef8c_783dee12",
      "range": {
        "startLine": 340,
        "startChar": 6,
        "endLine": 340,
        "endChar": 47
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f9fb2bc_7be97c0d",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 340,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1a6d3ca_e1f81bf3",
      "range": {
        "startLine": 340,
        "startChar": 6,
        "endLine": 340,
        "endChar": 47
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb1726fe_a2e039bc",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 340,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1a6d3ca_e1f81bf3",
      "range": {
        "startLine": 340,
        "startChar": 6,
        "endLine": 340,
        "endChar": 47
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a75cd6ce_b314880b",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 341,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-07T01:46:53Z",
      "side": 1,
      "message": "It seems like a bad idea to not actually verify this, and arbitrarily dup whatever value gets passed in (e.g. hijacking the jdwp socket that adbd listens on). Disabling this on the device assuages my concerns a bit, but it still feels a bit wrong.\n\nI can\u0027t think of a great way to resolve this, though, other than to plumb a bool all the way through to here that controls whether this is enabled.",
      "range": {
        "startLine": 341,
        "startChar": 8,
        "endLine": 341,
        "endChar": 62
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08c3c8b8_1d257294",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 341,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-07T09:02:55Z",
      "side": 1,
      "message": "We could make sure that the FD is a socket and not marked O_CLOEXEC. Any FD we open we\u0027ll mark O_CLOEXEC, so anything not marked O_CLOEXEC ought to be something we inherited. Right?",
      "parentUuid": "a75cd6ce_b314880b",
      "range": {
        "startLine": 341,
        "startChar": 8,
        "endLine": 341,
        "endChar": 62
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e2ee79a_1fb01d74",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 341,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08c3c8b8_1d257294",
      "range": {
        "startLine": 341,
        "startChar": 8,
        "endLine": 341,
        "endChar": 62
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10cecf00_97c389e3",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 341,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08c3c8b8_1d257294",
      "range": {
        "startLine": 341,
        "startChar": 8,
        "endLine": 341,
        "endChar": 62
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85f4236a_907893ef",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 351,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-07T01:46:53Z",
      "side": 1,
      "message": "This isn\u0027t going to work on windows (adb reimplements \"fds\" on windows via an internal translation layer).\n\nGuard this with an `#if !defined(_WIN32)` like vsock above?",
      "range": {
        "startLine": 349,
        "startChar": 9,
        "endLine": 351,
        "endChar": 29
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f26635bf_289580bd",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 351,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-07T09:02:55Z",
      "side": 1,
      "message": "Oh, I thought we were using msvcrt FDs. Disabling this code on Windows is fine.",
      "parentUuid": "85f4236a_907893ef",
      "range": {
        "startLine": 349,
        "startChar": 9,
        "endLine": 351,
        "endChar": 29
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dffaeeee_37c6c4ba",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 351,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f26635bf_289580bd",
      "range": {
        "startLine": 349,
        "startChar": 9,
        "endLine": 351,
        "endChar": 29
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1c17ebb_e7100de6",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 351,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f26635bf_289580bd",
      "range": {
        "startLine": 349,
        "startChar": 9,
        "endLine": 351,
        "endChar": 29
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91733ece_37aa0e45",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 357,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-07T01:46:53Z",
      "side": 1,
      "message": "It looks like darwin has had F_DUPFD_CLOEXEC since 2008, so maybe we could use that instead? (It doesn\u0027t really matter if it\u0027s only on the client, though.)",
      "range": {
        "startLine": 356,
        "startChar": 9,
        "endLine": 357,
        "endChar": 30
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7c7d54f_7f98fbdb",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 357,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-07T09:02:55Z",
      "side": 1,
      "message": "It didn\u0027t really matter and F_DUPFD_CLOEXEC failed to compile the first time I tried it, and I wanted to try this, so I figured dup() was also fine and marginally more portable. If you want, I can figure out what was wrong with F_DUPFD_CLOEXEC. Hell, maybe I just mistyped it.",
      "parentUuid": "91733ece_37aa0e45",
      "range": {
        "startLine": 356,
        "startChar": 9,
        "endLine": 357,
        "endChar": 30
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95517704_e2e4f8aa",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 357,
      "author": {
        "id": 1130394
      },
      "writtenOn": "2019-11-08T05:02:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7c7d54f_7f98fbdb",
      "range": {
        "startLine": 356,
        "startChar": 9,
        "endLine": 357,
        "endChar": 30
      },
      "revId": "7af2678d52b1ba890717be224848707a874131dc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}