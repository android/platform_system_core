{
  "comments": [
    {
      "key": {
        "uuid": "af54a448_03ea321e",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "Do you need to take the metadata sectors into account as well?\n\nOr alternatively, you can assume that all blocks have been changed.",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 74,
        "endChar": 47
      },
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1ddf20b_eb1de270",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "nit: DmSnapCowSizeCalculator (since COW is an acronym)\n\nAlso, maybe put it in its own source file?",
      "range": {
        "startLine": 88,
        "startChar": 6,
        "endLine": 88,
        "endChar": 29
      },
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d80db12_0de735d8",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "no blocks are written",
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "52822990_c1cc32a6",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "delete (snapshot_size have different meanings now; will be handled in CL:1132036)\n\nRight now, just assume snapshot_size \u003d\u003d base device_size and everything is written through the snapshot.",
      "range": {
        "startLine": 134,
        "startChar": 0,
        "endLine": 135,
        "endChar": 65
      },
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17df548f_eb87a816",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "same here; just use start_block() + num_blocks() directly.",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 138,
        "endChar": 86
      },
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aaf0cc04_614d400b",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "Right now, you can assume all regions are written through the snapshot. Let\u0027s handle this in CL:1132036 instead.",
      "range": {
        "startLine": 162,
        "startChar": 0,
        "endLine": 173,
        "endChar": 67
      },
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83b65a47_1537c29b",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 186,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "I think you want to call GetCowFileSize (DmSnapCoWSizeCalculator) here instead; this is the total COW space needed to write snapshot:\n\n    [    dm-snapshot      ]\n    [base][    cow        ]\n          [partition][file]",
      "range": {
        "startLine": 186,
        "startChar": 0,
        "endLine": 186,
        "endChar": 52
      },
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "224c301e_420a63f0",
        "filename": "fs_mgr/libsnapshot/partition_cow_creator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 197,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-10-08T19:49:37Z",
      "side": 1,
      "message": "Need cow_file_size + cow_partition_size \u003d\u003d cow_size.",
      "range": {
        "startLine": 197,
        "startChar": 0,
        "endLine": 197,
        "endChar": 61
      },
      "revId": "6f0dcfd6e7446c46b04c0a98c7514df698044c8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}