{
  "comments": [
    {
      "key": {
        "uuid": "b191e31c_a0c3c47e",
        "filename": "init/Android.mk",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-11-27T08:00:05Z",
      "side": 1,
      "message": "nit: seems can be in one line? and no need the trailing \\ ?\n\nLOCAL_POST_INSTALL_CMD +\u003d ; cp $(TARGET_RAMDISK_OUT)/init $(TARGET_ROOT_OUT)/init",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 71,
        "endChar": 61
      },
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "714380e2_b497147d",
        "filename": "init/Android.mk",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-11-28T00:22:07Z",
      "side": 1,
      "message": "This is definitely wrong.  I can make this change for real in another way.",
      "parentUuid": "b191e31c_a0c3c47e",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 71,
        "endChar": 61
      },
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a250ef3_58d3b12a",
        "filename": "init/Android.mk",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1135739
      },
      "writtenOn": "2018-11-28T04:45:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "714380e2_b497147d",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 71,
        "endChar": 61
      },
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03b6c0a3_f08f6070",
        "filename": "init/first_stage_mount.cpp",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-11-28T00:22:07Z",
      "side": 1,
      "message": "Why is system showing up in the fstab in the first place if we are system-as-root?  It simply shouldn\u0027t be there and there shouldn\u0027t be any logic here to handle it if it exists.",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afd44d4d_b3364a9e",
        "filename": "init/first_stage_mount.cpp",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-11-28T02:18:49Z",
      "side": 1,
      "message": "Right, normal system-as-root shouldn\u0027t have such case.\n\nThis is basically for Live Image, where ucontainder loads a system.img into zram.\nAnd prepares the \"system-as-root\" env, before jump into firs-stage init.\n\nHow about rename it to in_live_image?",
      "parentUuid": "03b6c0a3_f08f6070",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c3a7a1c_fa0be562",
        "filename": "init/first_stage_mount.cpp",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-11-28T03:01:57Z",
      "side": 1,
      "message": "Just to be clear, this is to allow live-image works on \"ramdisk\" devices.\nOtherwise, ramdisk devices will mount /system on the flash (and override what live-image prepared before invoking first-stage init)",
      "parentUuid": "afd44d4d_b3364a9e",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62176e56_d5b900d4",
        "filename": "init/first_stage_mount.cpp",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1135739
      },
      "writtenOn": "2018-11-28T04:45:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5c3a7a1c_fa0be562",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cc682fb5_a4674bc0",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 3
      },
      "lineNbr": 201,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-11-28T00:22:07Z",
      "side": 1,
      "message": "?  ForceNormalBoot directly implies not having SystemAsRoot (wherein SystemAsRoot is defined as the kernel mounting system.img as the rootfs).",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2552a8c9_f009c993",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 3
      },
      "lineNbr": 201,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-11-28T02:18:49Z",
      "side": 1,
      "message": "IIUC, this is for Live-Image usage, when ucontainer prepares a \"system-as-root\" env, before invoking first-stage init. Basically ucontainer just performs the system-as-root stuff, like what kernel did for system-as-root before.\n\nWith SwitchRoot(\"/first_stage_ramdisk\") here, they *.rc in Live-image (e.g., GSI) will be removed.\n\nDo you think it\u0027s better to s/SystemAsRoot/LiveImage, to make it clear this is for Live Image?",
      "parentUuid": "cc682fb5_a4674bc0",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d176b522_12a6f6cf",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 3
      },
      "lineNbr": 201,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-11-28T02:23:38Z",
      "side": 1,
      "message": "Oh, sorry, I was wrong.\n\nWe also cannot chroot(\"/first_stage_ramdks\") when there is \"skip_initramfs\" in kernel cmdline (L108). Otherwise, those *.rc files in system-as-root (mounted by kernel) will be gone.",
      "parentUuid": "2552a8c9_f009c993",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "100eb91c_72137fe0",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 3
      },
      "lineNbr": 201,
      "author": {
        "id": 1135739
      },
      "writtenOn": "2018-11-28T04:45:44Z",
      "side": 1,
      "message": "You are right. This is required by both system-only-ota and live image. Thank you for the clarification.",
      "parentUuid": "d176b522_12a6f6cf",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5e23657_07f563d4",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 3
      },
      "lineNbr": 222,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-11-28T00:22:07Z",
      "side": 1,
      "message": "This is used to keep the ucontainer ramdisk, right?  That\u0027s the one part that makes sense here.",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a3e4ba1_96e04512",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 3
      },
      "lineNbr": 222,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-11-28T02:18:49Z",
      "side": 1,
      "message": "Right, this is for Live-Image usage.",
      "parentUuid": "e5e23657_07f563d4",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "355bf875_7dd70ea9",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 3
      },
      "lineNbr": 222,
      "author": {
        "id": 1135739
      },
      "writtenOn": "2018-11-28T04:45:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0a3e4ba1_96e04512",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7714e309_92397c20",
        "filename": "libcutils/fs_config.cpp",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-11-28T00:22:07Z",
      "side": 1,
      "message": "Where would this file ever exist?",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85d1dee8_0dbfb8a3",
        "filename": "libcutils/fs_config.cpp",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 1135739
      },
      "writtenOn": "2018-11-28T04:45:44Z",
      "side": 1,
      "message": "Ack. Should be removed",
      "parentUuid": "7714e309_92397c20",
      "revId": "5e26dc1fd31aa7b8db45141d869317dfc6a5eb27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}